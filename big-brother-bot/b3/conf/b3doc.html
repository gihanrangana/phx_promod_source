<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>B3 commands documentation</title>
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://cdn.datatables.net/plug-ins/28e7751dbec/integration/bootstrap/3/dataTables.bootstrap.css">
  <style>
    html,
    body {
      height: 100%;
      /* The html and body elements cannot have any padding or margin. */
    }

    /* Wrapper for page content to push down footer */
    #wrap {
      min-height: 100%;
      height: auto;
      /* Negative indent footer by its height */
      margin: 0 auto -60px;
      /* Pad bottom by footer height */
      padding: 0 0 60px;
    }

    /* Set the fixed height of the footer here */
    #footer {
      height: 60px;
      background-color: #f5f5f5;
    }

    .container .text-muted {
      margin: 20px 0;
    }

    #level_popover {
      min-width: 180px;
      position: absolute;
      display: none;
      max-width: 240px;
      padding: 5px;
      margin: 2px 0 0;
      top: 100%;
      left: 0;
      text-align: center;
      white-space: normal;
      z-index: 1000;
      float: left;
      background-color: #fff;
      border: 1px solid #ccc;
      border: 1px solid rgba(0, 0, 0, .15);
      border-radius: 4px;
      -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);
      box-shadow: 0 6px 12px rgba(0, 0, 0, .175);
      background-clip: padding-box;

    }

    #b3doc-search_btn {
      cursor: pointer; cursor: hand;
    }

    table.dataTable thead > tr > th {
     padding-left: 8px;
     padding-right: 8px;
    }

  </style>
</head>
<body>
<div id="wrap">
  <div class="container">
    <h1>BigBrotherBot
      <small>commands documentation</small>
    </h1>
    <div class="row">
      <div class="col-xs-7">
      </div>
      <div class="col-xs-3" style="padding-right: 0;">
        <div class="btn-group pull-right">

          <div id="b3doc-filter-plugins" class="btn-group btn-group-sm">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
              <span class="glyphicon glyphicon-cog"></span> Plugins <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li class="active" role="presentation">
              </li>
            </ul>
          </div>

          <div id="b3doc-filter-levels" class="btn-group btn-group-sm">
            <button id="filter_level_dropdown_btn" type="button" class="btn btn-default dropdown-toggle" data-toggle="button">
              <span class="glyphicon glyphicon-user"></span> Level <span class="caret"></span>
            </button>
            <div id="level_popover" class="fade in">
              <span class="text-muted small">Show Commands for Level</span>
              <select id="filter_min_level" class="form-control input-sm"></select>
              <span class="text-muted small">to</span>
              <select id="filter_max_level" class="form-control input-sm"></select>
            </div>
            <!--<ul class="dropdown-menu" role="menu"></ul>-->
          </div>

        </div>
      </div>
      <div class="col-xs-2">
        <div class="input-group input-group-sm">
          <input id="b3doc-search" type="search" class="form-control" placeholder="Search command ...">
          <span id="b3doc-search_btn" class="input-group-addon"><span class="glyphicon glyphicon-search"></span></span>
        </div>
      </div>
    </div>


    <table id="b3doc" cellpadding="0" cellspacing="0" class="table table-striped table-hover table-bordered">
      <thead>
      <tr>
      <th style="width: 98px;">Plugin</th>
      <th style="width: 88px;">Min Level</th>
      <th style="width: 88px;">Max Level</th>
      <th style="width: 100px;">Command</th>
      <th style="width: 54px;">Alias</th>
      <th>Description</th>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>
<div id="footer">
  <div class="container">
    <p class="text-muted small pull-right"></p>
  </div>
</div>
<script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="http:////cdn.datatables.net/1.10.0/js/jquery.dataTables.min.js"></script>
<script src="http://cdn.datatables.net/plug-ins/28e7751dbec/integration/bootstrap/3/dataTables.bootstrap.js"></script>
<script type="text/javascript" charset="utf-8">
  $(document).ready(function () {
    var b3doc_data = {"commands": [{"description": "[&lt;command|level&gt;] - get info on how to use a command, you can use *&lt;command&gt; for partial matches", "plugin": "Admin", "minlevel": "0", "alias": "!h", "maxlevel": "100", "name": "!help"}, {"description": " register yourself as a basic user", "plugin": "Admin", "minlevel": "0", "alias": "", "maxlevel": "100", "name": "!register"}, {"description": " say the rules", "plugin": "Admin", "minlevel": "0", "alias": "!r", "maxlevel": "100", "name": "!rules"}, {"description": " list the next map in rotation", "plugin": "Admin", "minlevel": "1", "alias": "", "maxlevel": "100", "name": "!nextmap"}, {"description": " display your current user status", "plugin": "Admin", "minlevel": "1", "alias": "", "maxlevel": "100", "name": "!regtest"}, {"description": " lists all the online regular players", "plugin": "Admin", "minlevel": "1", "alias": "!regs", "maxlevel": "100", "name": "!regulars"}, {"description": "[&lt;timezone/offset&gt;] - display the servers current time", "plugin": "Admin", "minlevel": "1", "alias": "", "maxlevel": "100", "name": "!time"}, {"description": " list the server's map rotation", "plugin": "Admin", "minlevel": "2", "alias": "", "maxlevel": "100", "name": "!maps"}, {"description": "&lt;name&gt; - when was a player last seen?", "plugin": "Admin", "minlevel": "2", "alias": "", "maxlevel": "100", "name": "!seen"}, {"description": " lists all the online admins", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!admins"}, {"description": "&lt;name&gt; - list a players aliases", "plugin": "Admin", "minlevel": "20", "alias": "!alias", "maxlevel": "100", "name": "!aliases"}, {"description": " say b3's version info", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!b3"}, {"description": "&lt;name&gt; - test to find a connected player", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!find"}, {"description": "[&lt;name&gt;] - display a user's status", "plugin": "Admin", "minlevel": "20", "alias": "!lt", "maxlevel": "100", "name": "!leveltest"}, {"description": " list all connected players", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!list"}, {"description": " list all connected players one line at a time, helps find 'funny' unicode names", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!longlist"}, {"description": "&lt;player&gt; - notify a player that he needs to move", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!poke"}, {"description": " say a message to all players", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!say"}, {"description": "[player] &lt;message&gt; - spam a predefined message to all players or a given player", "plugin": "Admin", "minlevel": "20", "alias": "!s", "maxlevel": "100", "name": "!spam"}, {"description": " list spam messages", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!spams"}, {"description": " report status of bot", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!status"}, {"description": "&lt;name&gt; [&lt;warning&gt;] - warn user", "plugin": "Admin", "minlevel": "20", "alias": "!w", "maxlevel": "100", "name": "!warn"}, {"description": "&lt;name&gt; - display how many warning points a user has", "plugin": "Admin", "minlevel": "20", "alias": "!wi", "maxlevel": "100", "name": "!warninfo"}, {"description": "&lt;name&gt; - remove a users last warning", "plugin": "Admin", "minlevel": "20", "alias": "!wr", "maxlevel": "100", "name": "!warnremove"}, {"description": " list warnings", "plugin": "Admin", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!warns"}, {"description": "&lt;warning&gt; - test a warning", "plugin": "Admin", "minlevel": "20", "alias": "!wt", "maxlevel": "100", "name": "!warntest"}, {"description": " display your current user status", "plugin": "Admin", "minlevel": "40", "alias": "", "maxlevel": "100", "name": "!admintest"}, {"description": "&lt;name&gt; - display how many bans a user has", "plugin": "Admin", "minlevel": "40", "alias": "!bi", "maxlevel": "100", "name": "!baninfo"}, {"description": "&lt;name&gt; [&lt;reason&gt;] - kick a player\n            &lt;fullexactname&gt; [&lt;reason&gt;] - kick an incompletely authed player", "plugin": "Admin", "minlevel": "40", "alias": "!k", "maxlevel": "100", "name": "!kick"}, {"description": " list the 5 last bans", "plugin": "Admin", "minlevel": "40", "alias": "!lbans", "maxlevel": "100", "name": "!lastbans"}, {"description": "&lt;name&gt; &lt;notice&gt; - add a good/bad behavior note for the player", "plugin": "Admin", "minlevel": "40", "alias": "", "maxlevel": "100", "name": "!notice"}, {"description": "&lt;message&gt; - yell a message to all player", "plugin": "Admin", "minlevel": "40", "alias": "", "maxlevel": "100", "name": "!scream"}, {"description": "&lt;name&gt; &lt;duration&gt; [&lt;reason&gt;] - temporarily ban a player", "plugin": "Admin", "minlevel": "40", "alias": "!tb", "maxlevel": "100", "name": "!tempban"}, {"description": "&lt;name&gt; [&lt;reason&gt;] - ban a player", "plugin": "Admin", "minlevel": "60", "alias": "!b", "maxlevel": "100", "name": "!ban"}, {"description": "&lt;name&gt; [&lt;reason&gt;] - spank a player, naughty boy!", "plugin": "Admin", "minlevel": "60", "alias": "!sp", "maxlevel": "100", "name": "!spank"}, {"description": "&lt;name&gt; - un-ban a player", "plugin": "Admin", "minlevel": "60", "alias": "", "maxlevel": "100", "name": "!unban"}, {"description": "&lt;pattern&gt; [&lt;reason&gt;] - ban all players matching &lt;pattern&gt;", "plugin": "Admin", "minlevel": "80", "alias": "!ball", "maxlevel": "100", "name": "!banall"}, {"description": "[&lt;player&gt;] - clear all tk points and warnings", "plugin": "Admin", "minlevel": "80", "alias": "!kiss", "maxlevel": "100", "name": "!clear"}, {"description": "&lt;name&gt; &lt;field&gt; - get info about a client", "plugin": "Admin", "minlevel": "80", "alias": "", "maxlevel": "100", "name": "!clientinfo"}, {"description": "&lt;pattern&gt; [&lt;reason&gt;] - kick all players matching &lt;pattern&gt;", "plugin": "Admin", "minlevel": "80", "alias": "!kall", "maxlevel": "100", "name": "!kickall"}, {"description": "&lt;name&gt; - lookup a player in the database", "plugin": "Admin", "minlevel": "80", "alias": "!l", "maxlevel": "100", "name": "!lookup"}, {"description": "&lt;name&gt; - add a player in the 'regular' group", "plugin": "Admin", "minlevel": "80", "alias": "!mr", "maxlevel": "100", "name": "!makereg"}, {"description": "&lt;map&gt; - switch current map", "plugin": "Admin", "minlevel": "80", "alias": "", "maxlevel": "100", "name": "!map"}, {"description": " switch to the next map in rotation", "plugin": "Admin", "minlevel": "80", "alias": "", "maxlevel": "100", "name": "!maprotate"}, {"description": "&lt;duration&gt; - pause the bot from parsing", "plugin": "Admin", "minlevel": "80", "alias": "", "maxlevel": "100", "name": "!pause"}, {"description": "&lt;name&gt; [&lt;reason&gt;] - ban a player permanently", "plugin": "Admin", "minlevel": "80", "alias": "!pb", "maxlevel": "100", "name": "!permban"}, {"description": "&lt;client&gt; &lt;group&gt; - add a client to a group", "plugin": "Admin", "minlevel": "80", "alias": "", "maxlevel": "100", "name": "!putgroup"}, {"description": " sync up connected players", "plugin": "Admin", "minlevel": "80", "alias": "", "maxlevel": "100", "name": "!rebuild"}, {"description": "&lt;pattern&gt; [&lt;reason&gt;] - kick all players matching &lt;pattern&gt;", "plugin": "Admin", "minlevel": "80", "alias": "!sall", "maxlevel": "100", "name": "!spankall"}, {"description": "&lt;client&gt; &lt;group&gt; - remove a client from a group", "plugin": "Admin", "minlevel": "80", "alias": "", "maxlevel": "100", "name": "!ungroup"}, {"description": "&lt;name&gt; - remove a player from the 'regular' group", "plugin": "Admin", "minlevel": "80", "alias": "!ur", "maxlevel": "100", "name": "!unreg"}, {"description": "&lt;name&gt; - clear all of a users warnings", "plugin": "Admin", "minlevel": "80", "alias": "!wc", "maxlevel": "100", "name": "!warnclear"}, {"description": " shutdown b3", "plugin": "Admin", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!die"}, {"description": "&lt;group&gt; [&lt;name&gt;] - hide level", "plugin": "Admin", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!mask"}, {"description": " re-load all configs", "plugin": "Admin", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!reconfig"}, {"description": "&lt;name&gt; &lt;command&gt; - run a command as a different user", "plugin": "Admin", "minlevel": "100", "alias": "!su", "maxlevel": "100", "name": "!runas"}, {"description": "[&lt;name&gt;] - un-hide level", "plugin": "Admin", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!unmask"}, {"description": "&lt;add&gt; - add a new advertisement message", "plugin": "Adv", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!advadd"}, {"description": "List advertisement messages", "plugin": "Adv", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!advlist"}, {"description": "Reload adv plugin configuration.", "plugin": "Adv", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!advload"}, {"description": "[&lt;rate&gt;] - get/set the advertisement rotation rate", "plugin": "Adv", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!advrate"}, {"description": "&lt;index&gt; - removes an advertisement message", "plugin": "Adv", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!advrem"}, {"description": "&lt;command&gt; [&lt;alias&gt;] - get/set the alias of a command", "plugin": "Cmdmanager", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!cmdalias"}, {"description": "&lt;client&gt; &lt;command&gt; - grant the usage of a command to a specific client", "plugin": "Cmdmanager", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!cmdgrant"}, {"description": "&lt;command&gt; [&lt;level&gt;] - get/set the level of a command", "plugin": "Cmdmanager", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!cmdlevel"}, {"description": "&lt;client&gt; &lt;command&gt; - revoke a previously given grant for the specified command", "plugin": "Cmdmanager", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!cmdrevoke"}, {"description": "&lt;client&gt; &lt;command&gt; - check whether a client can execute the given command", "plugin": "Cmdmanager", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!cmduse"}, {"description": "&lt;player&gt; - give a cookie to a player", "plugin": "Customcommands", "minlevel": "0", "alias": "", "maxlevel": "100", "name": "!cookie"}, {"description": "[&lt;text&gt;]", "plugin": "Customcommands", "minlevel": "0", "alias": "", "maxlevel": "100", "name": "!fov"}, {"description": "", "plugin": "Customcommands", "minlevel": "0", "alias": "", "maxlevel": "100", "name": "!fps"}, {"description": " say 'Nice shot' to your killer", "plugin": "Customcommands", "minlevel": "0", "alias": "", "maxlevel": "100", "name": "!ns"}, {"description": "", "plugin": "Customcommands", "minlevel": "0", "alias": "", "maxlevel": "100", "name": "!promod"}, {"description": " say you are sorry to your last victim", "plugin": "Customcommands", "minlevel": "0", "alias": "", "maxlevel": "100", "name": "!sry"}, {"description": "&lt;client&gt; - kick a client that has an interrupted connection", "plugin": "Pingwatch", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!ci"}, {"description": "&lt;action&gt; [&lt;plugin&gt;] - manage plugins", "plugin": "Pluginmanager", "minlevel": "100", "alias": "", "maxlevel": "100", "name": "!plugin"}, {"description": "[&lt;name&gt;] - display a spamins level", "plugin": "Spamcontrol", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!spamins"}, {"description": "[&lt;name&gt;] - list a players stats for the map", "plugin": "Stats", "minlevel": "0", "alias": "!stats", "maxlevel": "100", "name": "!mapstats"}, {"description": "&lt;client&gt; - how much skill points you will get if you kill the player", "plugin": "Stats", "minlevel": "0", "alias": "!ts", "maxlevel": "100", "name": "!testscore"}, {"description": " list the top 5 map-stats players", "plugin": "Stats", "minlevel": "2", "alias": "!top", "maxlevel": "100", "name": "!topstats"}, {"description": " list the top 5 map-stats most experienced players", "plugin": "Stats", "minlevel": "2", "alias": "", "maxlevel": "100", "name": "!topxp"}, {"description": "&lt;name&gt; - forgive a player for team damaging", "plugin": "Tk", "minlevel": "0", "alias": "!f", "maxlevel": "100", "name": "!forgive"}, {"description": " forgive all attackers' tk points", "plugin": "Tk", "minlevel": "0", "alias": "!fa", "maxlevel": "100", "name": "!forgiveall"}, {"description": " list all the players who have shot you", "plugin": "Tk", "minlevel": "0", "alias": "!fl", "maxlevel": "100", "name": "!forgivelist"}, {"description": " forgive the last person to tk you", "plugin": "Tk", "minlevel": "0", "alias": "!fp", "maxlevel": "100", "name": "!forgiveprev"}, {"description": "&lt;name&gt; - grudge a player for team damaging, a grudge player will not be auto-forgiven", "plugin": "Tk", "minlevel": "0", "alias": "!grudge", "maxlevel": "100", "name": "!grudge"}, {"description": "&lt;name&gt; - display a user's tk points", "plugin": "Tk", "minlevel": "20", "alias": "!fi", "maxlevel": "100", "name": "!forgiveinfo"}, {"description": "&lt;name&gt; - clear a user's tk points", "plugin": "Tk", "minlevel": "60", "alias": "!fc", "maxlevel": "100", "name": "!forgiveclear"}, {"description": "[&lt;greeting&gt;] - set or list your greeting (use 'none' to remove)", "plugin": "Welcome", "minlevel": "20", "alias": "", "maxlevel": "100", "name": "!greeting"}], "server_info": {"ip": "127.0.0.1", "port": 28960}, "updated": "2023-04-09T00:24:35.237000", "level_info": {"0": {"name": "Guest", "keyword": "guest", "level": 0}, "1": {"name": "User", "keyword": "user", "level": 1}, "2": {"name": "Regular", "keyword": "reg", "level": 2}, "20": {"name": "Moderator", "keyword": "mod", "level": 20}, "100": {"name": "Super Admin", "keyword": "superadmin", "level": 100}, "40": {"name": "Admin", "keyword": "admin", "level": 40}, "80": {"name": "Senior Admin", "keyword": "senioradmin", "level": 80}, "60": {"name": "Full Admin", "keyword": "fulladmin", "level": 60}}};
    var f_min = 0;
    var f_max = 100;

    var table = $('#b3doc').DataTable({
      data: b3doc_data.commands,
      sDom: "t<'row'<'col-xs-6'l><'col-xs-6'p>>",
      info: false,
      stateSave: true,
      stateLoadParams: function (settings, data) {
        data.oSearch.sSearch = "";
        f_min = data.f_min;
        f_max = data.f_max;
      },
      stateSaveParams: function (settings, data) {
        data.f_min = f_min;
        data.f_max = f_max;
      },
      order: [
        [ 1, "asc" ]
      ],
      lengthMenu: [
        [15, 25, 50, -1],
        [15, 25, 50, "All"]
      ],
      columns: [
        {data: "plugin", targets: [ 1 ]},
        {data: "minlevel", targets: [ 2 ]},
        {data: "maxlevel", targets: [ 3 ], visible: false},
        {data: "name", targets: [ 4 ]},
        {data: "alias", targets: [ 5 ]},
        {data: "description", targets: [ 6 ], sortable: false}
      ],
      deferRender: true,
      createdRow: function (row, data, index) {
        $('td', row).eq(1).html(b3doc_data.level_info[data['minlevel']].name);
      },
      language: {
        sLengthMenu: '_MENU_ <span style="vertical-align: bottom;" class="text-muted">commands per page</span>'
      }
    });

    // get plugins from data and add entry for all
    var m_items = [{ 'name': 'All', 'value': ''}];
    table.column(0).data().unique().each(function (d) {
      m_items.push({ 'name': d, 'value': d})
    });
    // add items to filter plugins menu
    var $filter_plugins_menu_container = $('#b3doc-filter-plugins');
    $.each(m_items, function (d, j) {
      // set class=active for first entry
      var class_active = '';
      if ( j.value == table.column(0).search()[0] ) {
        class_active = 'active';
      }
      $('<li role="presentation" class="' + class_active + '"/>')
          .append($('<a href="#" data-column="0" data-value="' + j.value + '">' + j.name + '</a>')
              .on('click', function (e) {
                e.preventDefault();
                table.column($(this).data('column'))
                    .search($(this).data('value'), false, false, false)
                    .draw();
                $filter_plugins_menu_container.find('li.active').removeClass();
                $(this).closest('li').addClass('active');
              })
          )
          .appendTo($filter_plugins_menu_container.find('ul'));
    });

    // handle min level filter
    $('#filter_min_level').on('change', function () {
      f_min = parseInt($('#filter_min_level').val())
      $('#filter_max_level option').each(function () {
        if (f_min > parseInt($(this).val())) {
          $(this).prop('disabled', true);
        } else {
          $(this).prop('disabled', false);
        }
      });
      if (f_min > parseInt($('#filter_max_level option:selected').val())) {
        $('#filter_max_level').val(f_min);
      }
      table.draw();
    });

    // handle max level filter
    $('#filter_max_level').on('change', function () {
      f_max = parseInt($('#filter_max_level').val());
      $('#filter_min_level option').each(function () {
        if (f_max < parseInt($(this).val())) {
          $(this).prop('disabled', true);
        } else {
          $(this).prop('disabled', false);
        }
      });
      if (f_max < parseInt($('#filter_min_level option:selected').val())) {
        $('#filter_min_level').val(f_min);
      }
      table.draw();
    });


    // add options to level_filter
    $.each(b3doc_data.level_info, function (d, level) {
      $('#filter_min_level').append('<option value="' + d + '">' + d + ' - ' + level.name + '</option>');
      $('#filter_max_level').append('<option value="' + d + '">' + d + ' - ' + level.name + '</option>');
    });

    $('#filter_min_level').val(f_min).change();
    $('#filter_max_level').val(f_max).change();



    // add range filter for levels
    $.fn.dataTableExt.afnFiltering.push(
        function (settings, data, dataIndex) {
          var min = f_min + 100;
          var max = f_max + 100;
          var level = parseFloat(data[1]) + 100 || 0;
          if (( min == '' && max == '' ) ||
              ( min == '' && level <= max ) ||
              ( min <= level && '' == max ) ||
              ( min <= level && level <= max )) {
            return true;
          }
          return false;
        }
    );

    // handle search form
    $('#b3doc-search').on('keyup change', function () {
      if ( $('#b3doc-search').val() && $('#b3doc-search_btn').children().hasClass('glyphicon-search') ) {
        $('#b3doc-search_btn').children().removeClass('glyphicon-search').addClass('glyphicon-remove');
      } else if ( !$('#b3doc-search').val() && $('#b3doc-search_btn').children().hasClass('glyphicon-remove') ) {
        $('#b3doc-search_btn').children().removeClass('glyphicon-remove').addClass('glyphicon-search');
      }
      $('#b3doc').dataTable().fnFilter($(this).val());
    });

    $('#b3doc-search_btn').on('click', function () {
      if ( $('#b3doc-search').val() ) {
        $('#b3doc-search').val('');
        $('#b3doc').dataTable().fnFilter('');
        $('#b3doc-search_btn').children().removeClass('glyphicon-remove').addClass('glyphicon-search');
      }
    });

    $('#filter_level_dropdown_btn').on('click', function () {
      $('#level_popover').toggle();
    });

    $('#footer p').html('updated on ' + new Date(b3doc_data.updated).toUTCString());
  });
</script>
</body>
</html>